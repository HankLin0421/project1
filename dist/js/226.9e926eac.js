"use strict";(self["webpackChunkproject"]=self["webpackChunkproject"]||[]).push([[226],{280:function(l,e,t){t.d(e,{A:function(){return S}});t(4114);var a=t(6768),s=t(4232),c=t(1387),n=t(144),o=t(782),i=t(4373);const u=l=>((0,a.Qi)("data-v-3defea08"),l=l(),(0,a.jt)(),l),r=["textContent"],d=u((()=>(0,a.Lk)("h3",{class:"d-inline-block"},"系列商品",-1))),v=u((()=>(0,a.Lk)("h2",{class:"d-inline-block"},"關鍵字:",-1))),k=["textContent"],p={class:"p-sm-2"},m={class:"row text-center"},g={class:"magnifying-glass"},f=["textContent"],C={key:0,class:"card col-12 col-md-3 col-sm-6 col-lg-3"},_=["src","alt"],h={class:"card-body"},L=["textContent"],b=["textContent"],y=["textContent"],x={class:"row"},w={class:"col-6 col-sm-6 col-md-12 col-lg-12"},E={class:"col-6 col-sm-6 col-md-12 col-lg-12 g-md-2"},F=["onClick"],K={key:0,class:"row text-center p-5"},X={"aria-label":"Page navigation example"},I={class:"pagination justify-content-center"},j=u((()=>(0,a.Lk)("a",{role:"button",class:"page-link"},"Previous",-1))),q=[j],N={class:"page-item"},P=["textContent"],T={class:"page-item"};var $={__name:"c_productsection",setup(l){const e=(0,c.lq)(),u=(0,n.KR)([]),j="http://localhost/project/select.php",$=(0,a.EW)((()=>e.params.categoryId)),A=(0,a.EW)((()=>e.query.searchText)),Q=(0,o.Pj)(),S=Q.state.ProductClass,W=(0,n.KR)(),R=(0,n.KR)(8),J=(0,n.KR)(0),O=(0,a.EW)((()=>R.value/8)),B=()=>{R.value>=u.value.length||(J.value+=8,R.value+=8,window.scrollTo(0,0))},G=()=>{J.value<=0||(J.value-=8,R.value-=8,window.scrollTo(0,0))};for(let t of S)for(let l of t.childclass)l.class==$.value&&(W.value=l.cname);function z(l){i.A.get(j,{params:{do:"productlist",class:l}}).then((l=>{u.value=l.data}))}function D(l){i.A.get(j,{params:{do:"search",searchText:l}}).then((l=>{u.value=l.data}))}function H(l){let e=l,t=0;const a={p_id:e,qty:1};let s=localStorage.getItem("cartlist");if(null==s)localStorage.setItem("cartlist",JSON.stringify([a]));else{let l=JSON.parse(s);l.forEach((l=>{if(a.p_id==l.p_id){let e=Number(l.qty)+Number(a.qty);l.qty=e,t++}})),0==t&&(Q.commit("qtyPlus"),l.push(a)),localStorage.setItem("cartlist",JSON.stringify(l))}}return void 0!=A.value&&((0,a.wB)(A,(l=>{D(l),J.value=0,R.value=8})),D(A.value)),void 0!=$.value&&((0,a.wB)($,(l=>{z(l);for(let e of S)for(let t of e.childclass)t.class==l&&(W.value=t.cname);window.scrollTo(0,0),J.value=0,R.value=8})),z($.value)),(l,e)=>{const c=(0,a.g2)("router-view"),n=(0,a.g2)("font-awesome-icon"),o=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(c),void 0!=$.value?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("h1",{class:"d-inline-block",textContent:(0,s.v_)(W.value)},null,8,r),d],64)):(0,a.Q3)("",!0),""!=A.value&&0!=u.value.length&&void 0==$.value?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[v,(0,a.Lk)("h2",{class:"d-inline-block",textContent:(0,s.v_)(A.value)},null,8,k)],64)):(0,a.Q3)("",!0),(0,a.Lk)("div",p,[(0,a.Lk)("div",m,[0==u.value.length&&""!=A.value?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("div",g,[(0,a.bF)(n,{class:"w-100 h-100",icon:["fas","magnifying-glass"]})]),(0,a.Lk)("h3",{class:"mt-5",textContent:(0,s.v_)(`搜尋不到 " ${A.value} " `)},null,8,f)],64)):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(u.value,((l,e)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l.p_id},[J.value<=e&&e<R.value?((0,a.uX)(),(0,a.CE)("div",C,[(0,a.Lk)("img",{src:t(290)(`./${l.p_image}`),class:"card-img-top",alt:`${l.p_name}`},null,8,_),(0,a.Lk)("div",h,[(0,a.Lk)("h5",{class:"card-title",textContent:(0,s.v_)(l.p_name)},null,8,L),(0,a.Lk)("p",{class:"card-text",textContent:(0,s.v_)(l.p_intro)},null,8,b),(0,a.Lk)("p",{class:"card-text",textContent:(0,s.v_)(`NT. ${l.p_price}`)},null,8,y),(0,a.Lk)("div",x,[(0,a.Lk)("div",w,[(0,a.bF)(o,{to:{name:"detail",params:{categoryId:`${l.class}`,detail:`${l.p_id}`}},class:"btn btn-primary"},{default:(0,a.k6)((()=>[(0,a.eW)(" 更多資訊 ")])),_:2},1032,["to"])]),(0,a.Lk)("div",E,[(0,a.Lk)("button",{class:"btn btn-success",onClick:e=>H(l.p_id)}," 放入購物車 ",8,F)])])])])):(0,a.Q3)("",!0)],64)))),128))]),0!=u.value.length?((0,a.uX)(),(0,a.CE)("div",K,[(0,a.Lk)("nav",X,[(0,a.Lk)("ul",I,[(0,a.Lk)("li",{class:(0,s.C4)(["page-item",{disabled:0===J.value}]),onClick:G},q,2),(0,a.Lk)("li",N,[(0,a.Lk)("span",{class:"page-link",textContent:(0,s.v_)(O.value)},null,8,P)]),(0,a.Lk)("li",T,[(0,a.Lk)("a",{role:"button",class:(0,s.C4)(["page-link",{disabled:u.value.length-R.value<=0}]),onClick:B},"Next ",2)])])])])):(0,a.Q3)("",!0)])],64)}}},A=t(1241);const Q=(0,A.A)($,[["__scopeId","data-v-3defea08"]]);var S=Q},7226:function(l,e,t){t.r(e),t.d(e,{default:function(){return x}});var a=t(6768),s=t(144),c=t(4232),n=t(5130),o=t(782);const i={class:"d-flex align-items-center"},u=["onClick"],r={class:"ps-3"};var d={__name:"c_aside",setup(l){const e=(0,o.Pj)(),t=e.state.ProductClass;return(l,e)=>{const o=(0,a.g2)("font-awesome-icon"),d=(0,a.g2)("router-link");return(0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,s.R1)(t),(l=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l.id},[(0,a.Lk)("div",i,[(0,a.Lk)("a",{class:"fs-3",role:"button",onClick:e=>l.active=!l.active},[(0,a.bF)(o,{icon:["fas","chevron-right"],class:(0,c.C4)(["fs-4 chevron-right me-2",{active:!0===l.active}])},null,8,["class"]),(0,a.eW)((0,c.v_)(l.cname),1)],8,u)]),(0,a.bo)((0,a.Lk)("div",r,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.childclass,(l=>((0,a.uX)(),(0,a.CE)("div",{key:l.id},[(0,a.bF)(d,{class:"fs-5",to:{name:"categoryId",params:{categoryId:`${l.class}`}}},{default:(0,a.k6)((()=>[(0,a.eW)((0,c.v_)(l.cname),1)])),_:2},1032,["to"])])))),128))],512),[[n.aG,!0===l.active]])],64)))),128)}}},v=t(1241);const k=(0,v.A)(d,[["__scopeId","data-v-2730602a"]]);var p=k,m=t(280);const g={class:"container-fluid"},f={class:"row justify-content-md-center"},C={class:"col-lg-10 col-md-12 col-sm-12 col-12"},_={class:"row"},h={class:"col-lg-3 col-md-3 d-none d-md-block"},L={class:"col-lg-9 col-md-9 col-sm-12 col-12"};var b={__name:"h_category",setup(l){return window.scrollTo(0,0),(l,e)=>((0,a.uX)(),(0,a.CE)("div",g,[(0,a.Lk)("div",f,[(0,a.Lk)("div",C,[(0,a.Lk)("div",_,[(0,a.Lk)("div",h,[(0,a.bF)(p)]),(0,a.Lk)("div",L,[(0,a.bF)(m.A)])])])])]))}};const y=b;var x=y}}]);
//# sourceMappingURL=226.9e926eac.js.map