{"version":3,"file":"js/226.9e926eac.js","mappings":"wlCAoGA,MAAMA,GAAQC,EAAAA,EAAAA,MACRC,GAAcC,EAAAA,EAAAA,IAAI,IAClBC,EAAMC,sCACNC,GAAaC,EAAAA,EAAAA,KAAS,IAAMP,EAAMQ,OAAOF,aACzCG,GAAaF,EAAAA,EAAAA,KAAS,IAAMP,EAAMU,MAAMD,aACxCE,GAAQC,EAAAA,EAAAA,MACRC,EAAOF,EAAMG,MAAMC,aACnBC,GAAUb,EAAAA,EAAAA,MACVc,GAAOd,EAAAA,EAAAA,IAAI,GACXe,GAAOf,EAAAA,EAAAA,IAAI,GACXgB,GAAOZ,EAAAA,EAAAA,KAAS,IAAMU,EAAKG,MAAQ,IACnCC,EAAOA,KACPJ,EAAKG,OAASlB,EAAYkB,MAAME,SACpCJ,EAAKE,OAAS,EACdH,EAAKG,OAAS,EACdG,OAAOC,SAAS,EAAG,GAAE,EAEjBC,EAAQA,KACRP,EAAKE,OAAS,IAClBF,EAAKE,OAAS,EACdH,EAAKG,OAAS,EACdG,OAAOC,SAAS,EAAG,GAAE,EAEvB,IAAK,IAAIE,KAAKb,EACZ,IAAK,IAAIc,KAAQD,EAAEE,WACbD,EAAKE,OAASvB,EAAWc,QAC3BJ,EAAQI,MAAQO,EAAKG,OAI3B,SAASC,EAAcC,GACrBC,EAAAA,EACGC,IAAI9B,EAAK,CACRI,OAAQ,CACN2B,GAAI,cACJN,MAAOG,KAGVI,MAAMC,IACLnC,EAAYkB,MAAQiB,EAAIC,IAAI,GAElC,CACA,SAASC,EAASC,GAChBP,EAAAA,EACGC,IAAI9B,EAAK,CACRI,OAAQ,CACN2B,GAAI,SACJ1B,WAAY+B,KAGfJ,MAAMC,IACLnC,EAAYkB,MAAQiB,EAAIC,IAAI,GAElC,CA0BA,SAASG,EAAQC,GACf,IAAIC,EAAOD,EACPE,EAAW,EACf,MAAMN,EAAO,CACXK,KAAMA,EACNE,IAAK,GAEP,IAAIC,EAAWC,aAAaC,QAAQ,YACpC,GAAgB,MAAZF,EACFC,aAAaE,QAAQ,WAAYC,KAAKC,UAAU,CAACb,SAC5C,CACL,IAAIc,EAAgBF,KAAKG,MAAMP,GAC/BM,EAAcE,SAAS3B,IACrB,GAAIW,EAAKK,MAAQhB,EAAKgB,KAAM,CAC1B,IAAIE,EAAMU,OAAO5B,EAAKkB,KAAOU,OAAOjB,EAAKO,KACzClB,EAAKkB,IAAMA,EACXD,GACF,KAEc,GAAZA,IACFjC,EAAM6C,OAAO,WACbJ,EAAcK,KAAKnB,IAErBS,aAAaE,QAAQ,WAAYC,KAAKC,UAAUC,GAClD,CACF,C,YAlDwBM,GAApBjD,EAAWW,SACbuC,EAAAA,EAAAA,IAAMlD,GAAamD,IACjBrB,EAASqB,GACT1C,EAAKE,MAAQ,EACbH,EAAKG,MAAQ,CAAC,IAEhBmB,EAAS9B,EAAWW,aAEEsC,GAApBpD,EAAWc,SACbuC,EAAAA,EAAAA,IAAMrD,GAAasD,IACjB7B,EAAc6B,GACd,IAAK,IAAIlC,KAAKb,EACZ,IAAK,IAAIc,KAAQD,EAAEE,WACbD,EAAKE,OAAS+B,IAChB5C,EAAQI,MAAQO,EAAKG,OAI3BP,OAAOC,SAAS,EAAG,GACnBN,EAAKE,MAAQ,EACbH,EAAKG,MAAQ,CAAC,IAEhBW,EAAczB,EAAWc,Q,qhEC1K3B,MAAMyC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,oOCuBA,MAAMlD,GAAQC,EAAAA,EAAAA,MACRC,EAAOF,EAAMG,MAAMC,a,gxBC1BzB,MAAM8C,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,gSCYAtC,OAAOC,SAAS,EAAG,G,wKCjBnB,MAAM,EAAc,EAEpB,O","sources":["webpack://project/./src/components/c_productsection.vue","webpack://project/./src/components/c_productsection.vue?12bf","webpack://project/./src/components/c_aside.vue","webpack://project/./src/components/c_aside.vue?e077","webpack://project/./src/views/h_category.vue","webpack://project/./src/views/h_category.vue?0c28"],"sourcesContent":["<template>\n  <router-view></router-view>\n  <template v-if=\"categoryId != undefined\">\n    <h1 class=\"d-inline-block\" v-text=\"p_class\"></h1>\n    <h3 class=\"d-inline-block\">系列商品</h3>\n  </template>\n  <template\n    v-if=\"\n      searchText != '' && productlist.length != 0 && categoryId == undefined\n    \"\n  >\n    <h2 class=\"d-inline-block\">關鍵字:</h2>\n    <h2 class=\"d-inline-block\" v-text=\"searchText\"></h2>\n  </template>\n  <div class=\"p-sm-2\">\n    <div class=\"row text-center\">\n      <template v-if=\"productlist.length == 0 && searchText != ''\">\n        <div class=\"magnifying-glass\">\n          <font-awesome-icon\n            class=\"w-100 h-100\"\n            :icon=\"['fas', 'magnifying-glass']\"\n          />\n        </div>\n        <h3 class=\"mt-5\" v-text=\"`搜尋不到 &quot; ${searchText} &quot; `\"></h3>\n      </template>\n      <template v-for=\"(product, index) in productlist\" :key=\"product.p_id\">\n        <div\n          v-if=\"back <= index && index < next\"\n          class=\"card col-12 col-md-3 col-sm-6 col-lg-3\"\n        >\n          <img\n            :src=\"require(`@/assets/${product.p_image}`)\"\n            class=\"card-img-top\"\n            :alt=\"`${product.p_name}`\"\n          />\n          <div class=\"card-body\">\n            <h5 class=\"card-title\" v-text=\"product.p_name\"></h5>\n            <p class=\"card-text\" v-text=\"product.p_intro\"></p>\n            <p class=\"card-text\" v-text=\"`NT. ${product.p_price}`\"></p>\n            <div class=\"row\">\n              <div class=\"col-6 col-sm-6 col-md-12 col-lg-12\">\n                <router-link\n                  :to=\"{\n                    name: 'detail',\n                    params: {\n                      categoryId: `${product.class}`,\n                      detail: `${product.p_id}`,\n                    },\n                  }\"\n                  class=\"btn btn-primary\"\n                >\n                  更多資訊\n                </router-link>\n              </div>\n              <div class=\"col-6 col-sm-6 col-md-12 col-lg-12 g-md-2\">\n                <button class=\"btn btn-success\" @click=\"addCart(product.p_id)\">\n                  放入購物車\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n    </div>\n    <template v-if=\"productlist.length != 0\">\n      <div class=\"row text-center p-5\">\n        <nav aria-label=\"Page navigation example\">\n          <ul class=\"pagination justify-content-center\">\n            <li\n              class=\"page-item\"\n              :class=\"{ disabled: back === 0 }\"\n              @click=\"minus\"\n            >\n              <a role=\"button\" class=\"page-link\">Previous</a>\n            </li>\n            <li class=\"page-item\">\n              <span class=\"page-link\" v-text=\"page\"></span>\n            </li>\n            <li class=\"page-item\">\n              <a\n                role=\"button\"\n                class=\"page-link\"\n                @click=\"plus\"\n                :class=\"{\n                  disabled: productlist.length - next <= 0,\n                }\"\n                >Next\n              </a>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </template>\n  </div>\n</template>\n<script setup>\nimport { useRoute } from \"vue-router\";\nimport { ref, watch, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport axios from \"axios\";\nconst route = useRoute();\nconst productlist = ref([]);\nconst url = process.env.VUE_APP_API_URL;\nconst categoryId = computed(() => route.params.categoryId);\nconst searchText = computed(() => route.query.searchText);\nconst store = useStore();\nconst list = store.state.ProductClass;\nconst p_class = ref();\nconst next = ref(8);\nconst back = ref(0);\nconst page = computed(() => next.value / 8);\nconst plus = () => {\n  if (next.value >= productlist.value.length) return;\n  back.value += 8;\n  next.value += 8;\n  window.scrollTo(0, 0);\n};\nconst minus = () => {\n  if (back.value <= 0) return;\n  back.value -= 8;\n  next.value -= 8;\n  window.scrollTo(0, 0);\n};\nfor (let x of list) {\n  for (let item of x.childclass) {\n    if (item.class == categoryId.value) {\n      p_class.value = item.cname;\n    }\n  }\n}\nfunction productlistfn(paramsclass) {\n  axios\n    .get(url, {\n      params: {\n        do: \"productlist\",\n        class: paramsclass,\n      },\n    })\n    .then((res) => {\n      productlist.value = res.data;\n    });\n}\nfunction searchfn(paramssearch) {\n  axios\n    .get(url, {\n      params: {\n        do: \"search\",\n        searchText: paramssearch,\n      },\n    })\n    .then((res) => {\n      productlist.value = res.data;\n    });\n}\nif (searchText.value != undefined) {\n  watch(searchText, (val) => {\n    searchfn(val);\n    back.value = 0;\n    next.value = 8;\n  });\n  searchfn(searchText.value);\n}\nif (categoryId.value != undefined) {\n  watch(categoryId, (val) => {\n    productlistfn(val);\n    for (let x of list) {\n      for (let item of x.childclass) {\n        if (item.class == val) {\n          p_class.value = item.cname;\n        }\n      }\n    }\n    window.scrollTo(0, 0);\n    back.value = 0;\n    next.value = 8;\n  });\n  productlistfn(categoryId.value);\n}\n\nfunction addCart(id) {\n  let p_id = id;\n  let Has_Cart = 0;\n  const data = {\n    p_id: p_id,\n    qty: 1,\n  };\n  let CartList = localStorage.getItem(\"cartlist\");\n  if (CartList == null) {\n    localStorage.setItem(\"cartlist\", JSON.stringify([data]));\n  } else {\n    let CartListArray = JSON.parse(CartList);\n    CartListArray.forEach((item) => {\n      if (data.p_id == item.p_id) {\n        let qty = Number(item.qty) + Number(data.qty);\n        item.qty = qty;\n        Has_Cart++;\n      }\n    });\n    if (Has_Cart == 0) {\n      store.commit(\"qtyPlus\");\n      CartListArray.push(data);\n    }\n    localStorage.setItem(\"cartlist\", JSON.stringify(CartListArray));\n  }\n}\n</script>\n<style scoped>\n.magnifying-glass {\n  margin: 0 auto;\n  width: 15%;\n  height: 10%;\n}\n</style>\n","import script from \"./c_productsection.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./c_productsection.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./c_productsection.vue?vue&type=style&index=0&id=3defea08&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3defea08\"]])\n\nexport default __exports__","<template>\n  <template v-for=\"pclass in list\" :key=\"pclass.id\">\n    <div class=\"d-flex align-items-center\">\n      <a class=\"fs-3\" role=\"button\" @click=\"pclass.active = !pclass.active\">\n        <font-awesome-icon\n          :icon=\"['fas', 'chevron-right']\"\n          class=\"fs-4 chevron-right me-2\"\n          :class=\"{ active: pclass.active === true }\"\n        />{{ pclass.cname }}\n      </a>\n    </div>\n    <div class=\"ps-3\" v-show=\"pclass.active === true\">\n      <template v-for=\"kclass in pclass.childclass\" :key=\"kclass.id\">\n        <div>\n          <router-link\n            class=\"fs-5\"\n            :to=\"{\n              name: 'categoryId',\n              params: {\n                categoryId: `${kclass.class}`,\n              },\n            }\"\n            >{{ kclass.cname }}</router-link\n          >\n        </div>\n      </template>\n    </div>\n  </template>\n</template>\n<script setup>\nimport { useStore } from \"vuex\";\nconst store = useStore();\nconst list = store.state.ProductClass;\n</script>\n<style scoped lang=\"scss\">\na {\n  text-decoration: none;\n  color: #2c3e50;\n}\n.active {\n  transform: rotate(90deg);\n}\n.chevron-right {\n  transition: all 0.3s;\n}\n</style>\n","import script from \"./c_aside.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./c_aside.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./c_aside.vue?vue&type=style&index=0&id=2730602a&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2730602a\"]])\n\nexport default __exports__","<template>\n  <div class=\"container-fluid\">\n    <div class=\"row justify-content-md-center\">\n      <div class=\"col-lg-10 col-md-12 col-sm-12 col-12\">\n        <div class=\"row\">\n          <div class=\"col-lg-3 col-md-3 d-none d-md-block\">\n            <left-aside></left-aside>\n          </div>\n          <div class=\"col-lg-9 col-md-9 col-sm-12 col-12\">\n            <product-section></product-section>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport leftAside from \"@/components/c_aside.vue\";\nimport productSection from \"@/components/c_productsection.vue\";\nwindow.scrollTo(0, 0);\n</script>\n","import script from \"./h_category.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./h_category.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["route","useRoute","productlist","ref","url","process","categoryId","computed","params","searchText","query","store","useStore","list","state","ProductClass","p_class","next","back","page","value","plus","length","window","scrollTo","minus","x","item","childclass","class","cname","productlistfn","paramsclass","axios","get","do","then","res","data","searchfn","paramssearch","addCart","id","p_id","Has_Cart","qty","CartList","localStorage","getItem","setItem","JSON","stringify","CartListArray","parse","forEach","Number","commit","push","undefined","watch","val","__exports__"],"sourceRoot":""}