{"version":3,"file":"js/451.7e73ba6a.js","mappings":"mjCAuEA,MAAMA,GAAUC,EAAAA,EAAAA,IAAI,IACdC,GAAQC,EAAAA,EAAAA,MACRC,GAAQC,EAAAA,EAAAA,MACRC,EAAMC,sCACNC,GAAOC,EAAAA,EAAAA,KAAS,IAAML,EAAMM,OAAOC,SACnCC,GAAMX,EAAAA,EAAAA,MACNY,EAAUC,IACdF,EAAIG,MAAQC,EAAAA,IAAAA,CAAQ,KAAYF,IAAM,EAExC,SAASG,EAAUC,GACjBC,EAAAA,EACGC,IAAId,EAAK,CACRI,OAAQ,CACNW,GAAI,UACJb,KAAMU,KAGTI,MAAMC,IACLvB,EAAQe,MAAQQ,EAAIC,KACpBZ,EAAIG,MAAQC,EAAAA,IAAAA,CAAQ,KAAYO,EAAIC,KAAKC,UAAU,GAEzD,CAMA,SAASC,EAAQC,GACf,IAAIC,EAAMC,SAASC,eAAe,OAAOf,MACzC,GAAIa,GAAO,EAET,OADAG,MAAM,iBACC,OAEEC,GAAPJ,IACFA,EAAM,GAER,IAAIpB,EAAOmB,EACPM,EAAW,EACf,MAAMT,EAAO,CACXhB,KAAMA,EACNoB,IAAKM,OAAON,IAEd,IAAIO,EAAWC,aAAaC,QAAQ,YACpC,GAAgB,MAAZF,EACFC,aAAaE,QAAQ,WAAYC,KAAKC,UAAU,CAAChB,SAE5C,CAEL,IAAIiB,EAAgBF,KAAKG,MAAMP,GAC/BM,EAAcE,SAASC,IACrB,GAAIpB,EAAKhB,MAAQoC,EAAKpC,KAAM,CAC1B,IAAIoB,EAAMM,OAAOU,EAAKhB,KAAOM,OAAOV,EAAKI,KAEzCgB,EAAKhB,IAAMA,EACXK,GACF,KAEc,GAAZA,IACF/B,EAAM2C,OAAO,WACbJ,EAAcK,KAAKtB,IAErBY,aAAaE,QAAQ,WAAYC,KAAKC,UAAUC,GAClD,CACF,C,OAzCAxB,EAAUT,EAAKO,QACfgC,EAAAA,EAAAA,IAAMvC,GAAOwC,IACX/B,EAAU+B,EAAI,IAwChBC,OAAOC,SAAS,EAAG,G,i7BCpInB,MAAMC,EAAc,EAEpB,O","sources":["webpack://project/./src/views/h_detail.vue","webpack://project/./src/views/h_detail.vue?e972"],"sourcesContent":["<template>\n  <div class=\"row\">\n    <h1>商品介紹</h1>\n    <div class=\"card mb-3\">\n      <div class=\"row\">\n        <div class=\"col-lg-4 col-md-6 col-sm-6 col-12 border-end\">\n          <img\n            :src=\"src\"\n            class=\"img-fluid rounded\"\n            :alt=\"`${product.p_name}`\"\n            :title=\"`${product.p_name}`\"\n          />\n          <div class=\"row\">\n            <template v-for=\"item in product.all_image\" :key=\"item.sort_id\">\n              <div class=\"col-md-4 col-sm-6 col-4 border\">\n                <img\n                  :src=\"require(`@/assets/${item.img_name}`)\"\n                  :alt=\"`${product.p_name}`\"\n                  :title=\"`${product.p_name}`\"\n                  class=\"img-fluid\"\n                  @click=\"bigimg(item.img_name)\"\n                />\n              </div>\n            </template>\n          </div>\n        </div>\n        <div class=\"col-lg-8 col-md-6 col-sm-6 col-12 py-5\">\n          <div class=\"row\">\n            <h2 class=\"card-title\">{{ product.p_name }}</h2>\n            <p class=\"card-text mt-2\">{{ product.p_intro }}</p>\n            <h4 class=\"card-text mt-3\">NT. {{ product.p_price }}</h4>\n          </div>\n          <div class=\"row mt-3\">\n            <div class=\"col-lg col-md-7 col-sm-7 col\">\n              <div class=\"input-group input-group-lg\">\n                <span class=\"input-group-text\" id=\"inputGroup-sizing-lg\"\n                  >數量</span\n                >\n                <input\n                  id=\"qty\"\n                  type=\"number\"\n                  min=\"1\"\n                  max=\"50\"\n                  value=\"1\"\n                  class=\"form-control\"\n                  aria-label=\"Sizing example input\"\n                  aria-describedby=\"inputGroup-sizing-lg\"\n                />\n              </div>\n            </div>\n            <div class=\"col-lg col-md-5 col-sm-5 col\">\n              <button\n                type=\"button\"\n                class=\"btn btn-success btn-lg color-success\"\n                @click=\"addCart(product.p_id)\"\n              >\n                加入購物車\n              </button>\n            </div>\n          </div>\n          <p class=\"card-text mt-5\">{{ product.p_content }}</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport { useRoute } from \"vue-router\";\nimport { ref, watch, computed } from \"vue\";\nimport { useStore } from \"vuex\";\nimport axios from \"axios\";\nconst product = ref([]);\nconst store = useStore();\nconst route = useRoute();\nconst url = process.env.VUE_APP_API_URL;\nconst p_id = computed(() => route.params.detail);\nconst src = ref();\nconst bigimg = (img) => {\n  src.value = require(`@/assets/${img}`);\n};\nfunction productfn(paramsid) {\n  axios\n    .get(url, {\n      params: {\n        do: \"product\",\n        p_id: paramsid,\n      },\n    })\n    .then((res) => {\n      product.value = res.data;\n      src.value = require(`@/assets/${res.data.p_image}`);\n    });\n}\nproductfn(p_id.value);\nwatch(p_id, (val) => {\n  productfn(val);\n});\n\nfunction addCart(id) {\n  let qty = document.getElementById(\"qty\").value;\n  if (qty <= 0) {\n    alert(\"產品數量不可為0或負數!\");\n    return false;\n  }\n  if (qty == undefined) {\n    qty = 1;\n  }\n  let p_id = id;\n  let Has_Cart = 0;\n  const data = {\n    p_id: p_id,\n    qty: Number(qty),\n  };\n  let CartList = localStorage.getItem(\"cartlist\");\n  if (CartList == null) {\n    localStorage.setItem(\"cartlist\", JSON.stringify([data]));\n    //以陣列方式存取物件\n  } else {\n    // localStorage.removeItem(\"cartlist\");\n    let CartListArray = JSON.parse(CartList);\n    CartListArray.forEach((item) => {\n      if (data.p_id == item.p_id) {\n        let qty = Number(item.qty) + Number(data.qty);\n        // item.qty = qty.toString();\n        item.qty = qty;\n        Has_Cart++;\n      }\n    });\n    if (Has_Cart == 0) {\n      store.commit(\"qtyPlus\");\n      CartListArray.push(data);\n    }\n    localStorage.setItem(\"cartlist\", JSON.stringify(CartListArray));\n  }\n}\nwindow.scrollTo(0, 0);\n</script>\n","import script from \"./h_detail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./h_detail.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["product","ref","store","useStore","route","useRoute","url","process","p_id","computed","params","detail","src","bigimg","img","value","require","productfn","paramsid","axios","get","do","then","res","data","p_image","addCart","id","qty","document","getElementById","alert","undefined","Has_Cart","Number","CartList","localStorage","getItem","setItem","JSON","stringify","CartListArray","parse","forEach","item","commit","push","watch","val","window","scrollTo","__exports__"],"sourceRoot":""}