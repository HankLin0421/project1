{"version":3,"file":"js/688.3f672acd.js","mappings":"40BAuCA,MAAMA,GAAUC,EAAAA,EAAAA,MACVC,GAAWD,EAAAA,EAAAA,MACXE,EAAMC,qCACNC,EAAS,CACbC,QAAS,CACP,eAAgB,sCAGpBC,eAAeC,EAAMC,EAAKC,GACxB,QAAYC,IAARF,QAA8BE,IAATD,EAEvB,YADAE,MAAM,cAGR,MAAMC,EAAO,CACXC,GAAI,QACJd,QAASS,EACTP,SAAUQ,SAENK,EAAAA,EAAMC,KAAKb,EAAKU,EAAMR,GAAQY,MAAMC,IACpCA,EAAIL,KAAKM,YACXC,EAAY,CACVC,SAAS,EACTC,MAAOJ,EAAIL,KAAKS,MAChBC,SAAUL,EAAIL,KAAKW,OACnBC,QAASP,EAAIL,KAAKa,YAEpBd,MAAM,cAAcM,EAAIL,KAAKW,UAC7BG,EAAAA,EAAOC,KAAK,CAAEC,KAAM,WAEpBjB,MAAM,YACNV,EAAS4B,MAAQ,GACnB,GAEJ,CACA,SAASV,EAAYW,GACfA,EAAIV,UACNW,aAAaC,QAAQ,UAAWF,EAAIV,SACpCW,aAAaC,QAAQ,QAASF,EAAIT,OAClCU,aAAaC,QAAQ,WAAYF,EAAIR,UACrCS,aAAaC,QAAQ,UAAWF,EAAIN,SAExC,C,OACAS,OAAOC,SAAS,EAAG,G,igBC3EnB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://project/./src/views/h_login.vue","webpack://project/./src/views/h_login.vue?802c"],"sourcesContent":["<template>\n  <div class=\"container-fluid\">\n    <div class=\"row justify-content-md-center mt-5\">\n      <div class=\"col-lg-6 col-md-12 col-sm-12 col-12 text-center\">\n        <div class=\"px-5 py-5\">\n          <h1>Login in</h1>\n          <p class=\"col my-5\">\n            <span class=\"me-2\">Account</span>\n            <input type=\"text\" v-model=\"account\" />\n          </p>\n          <p class=\"col my-5\">\n            <span class=\"me-2\">Password</span>\n            <input type=\"password\" v-model=\"password\" />\n          </p>\n          <p class=\"col\">\n            <button\n              class=\"me-2 btn btn-primary\"\n              @click=\"login(account, password)\"\n            >\n              Login\n            </button>\n            <span>\n              Test ? Click\n              <a\n                class=\"test\"\n                onclick=\"alert('測試帳號: abcde \\n測試密碼: 123456');\"\n                >here</a\n              >!</span\n            >\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport router from \"@/router\";\nimport axios from \"axios\";\nimport { ref } from \"vue\";\nconst account = ref();\nconst password = ref();\nconst url = process.env.VUE_APP_API_LOGIN;\nconst config = {\n  headers: {\n    \"Content-Type\": \"application/x-www-form-urlencoded\",\n  },\n};\nasync function login(acc, pass) {\n  if (acc === undefined || pass === undefined) {\n    alert(\"帳號或密碼不得為空!\");\n    return;\n  }\n  const data = {\n    do: \"login\",\n    account: acc,\n    password: pass,\n  };\n  await axios.post(url, data, config).then((res) => {\n    if (res.data.checklogin) {\n      setLoginlog({\n        isLogin: true,\n        token: res.data.token,\n        userName: res.data.m_name,\n        userAcc: res.data.m_account,\n      });\n      alert(`登入完成，歡迎回來! ${res.data.m_name}`);\n      router.push({ name: \"home\" });\n    } else {\n      alert(\"帳號或密碼錯誤!\");\n      password.value = \"\";\n    }\n  });\n}\nfunction setLoginlog(obj) {\n  if (obj.isLogin) {\n    localStorage.setItem(\"isLogin\", obj.isLogin);\n    localStorage.setItem(\"token\", obj.token);\n    localStorage.setItem(\"userName\", obj.userName);\n    localStorage.setItem(\"userAcc\", obj.userAcc);\n  }\n}\nwindow.scrollTo(0, 0);\n</script>\n<style scoped>\n.test {\n  font-size: 1.2rem;\n  color: red;\n  text-decoration: none;\n}\n</style>\n","import script from \"./h_login.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./h_login.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./h_login.vue?vue&type=style&index=0&id=5680ef37&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5680ef37\"]])\n\nexport default __exports__"],"names":["account","ref","password","url","process","config","headers","async","login","acc","pass","undefined","alert","data","do","axios","post","then","res","checklogin","setLoginlog","isLogin","token","userName","m_name","userAcc","m_account","router","push","name","value","obj","localStorage","setItem","window","scrollTo","__exports__"],"sourceRoot":""}